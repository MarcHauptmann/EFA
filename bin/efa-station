#!/usr/bin/perl

use EFA;
use Text::Table;

binmode(STDOUT, ":utf8");

my $query = $ARGV[0];

my %stations = find_station($query);

if (scalar(keys %stations) > 0) {
  my $table = Text::Table->new("Station", "ID");

  while (my ($id, $name) = each(%stations)) {
    $table->add($name, $id);
  }

  print $table->title;
  print $table->rule("-");
  print $table->body;
} else {
  print "keine Stationen gefunden\n";
}
